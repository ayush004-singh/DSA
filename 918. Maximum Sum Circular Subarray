class Solution {
    public int maxSubarraySumCircular(int[] nums) {
        int sum=0;
        int maxsum=nums[0];
        int curmax=0;
        int minsum=nums[0];
        int curmin=0;
        for(int num:nums){
            sum+=num;
            curmax=Math.max(curmax+num,num);
            maxsum=Math.max(maxsum,curmax);
            curmin=Math.min(num,curmin+num);
            minsum=Math.min(minsum,curmin);
        }

        if(maxsum<0) return maxsum;


        return Math.max(maxsum,sum-minsum);

    }
}
